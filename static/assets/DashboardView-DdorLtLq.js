import{c as o,a as t,o as l,d as w,j as y,f as _,g as p,t as a,b as n,e as r,r as x,k,l as C,n as B,m as j}from"./index-oxDBCDlh.js";import{r as f}from"./ArrowPathIcon-ZfxELW0L.js";function M(c,e){return l(),o("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.25 18 9 11.25l4.306 4.306a11.95 11.95 0 0 1 5.814-5.518l2.74-1.22m0 0-5.94-2.281m5.94 2.28-2.28 5.941"})])}function V(c,e){return l(),o("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m2.25 0H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"})])}function H(c,e){return l(),o("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.429 9.75 2.25 12l4.179 2.25m0-4.5 5.571 3 5.571-3m-11.142 0L2.25 7.5 12 2.25l9.75 5.25-4.179 2.25m0 0L21.75 12l-4.179 2.25m0 0 4.179 2.25L12 21.75 2.25 16.5l4.179-2.25m11.142 0-5.571 3-5.571-3"})])}const N={class:"p-8"},S={key:0,class:"mb-6 rounded-md bg-red-50 p-4"},$={class:"text-sm text-red-700"},z={key:1,class:"flex items-center justify-center h-64"},D={key:2,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6"},L={class:"stat-card"},R={class:"flex items-center gap-3"},T={class:"p-2 bg-blue-100 rounded-lg"},A={class:"stat-value"},E={class:"stat-card"},F={class:"flex items-center gap-3"},P={class:"p-2 bg-green-100 rounded-lg"},O={class:"stat-value"},Z={class:"stat-card"},q={class:"flex items-center gap-3"},G={class:"p-2 bg-purple-100 rounded-lg"},I={class:"stat-value"},J={class:"stat-card"},K={class:"flex items-center gap-3"},Q={class:"p-2 bg-orange-100 rounded-lg"},U={class:"stat-value"},W={key:3,class:"mt-8"},X={class:"card"},Y={class:"grid grid-cols-1 md:grid-cols-3 gap-6"},tt={class:"text-center"},st={class:"flex items-center justify-center mb-2"},et={class:"text-3xl font-bold text-gray-900"},at={class:"text-center"},ot={class:"text-3xl font-bold text-green-600"},lt={class:"text-center"},nt={class:"text-3xl font-bold text-red-600"},rt={class:"mt-6"},it=["disabled"],ut=w({__name:"DashboardView",setup(c){const e=p(null),i=p(!0),d=p("");async function h(){var u,s,m,g;i.value=!0,d.value="";try{const v=await j.getStats();e.value=v.data}catch(v){d.value=((g=(m=(s=(u=v.response)==null?void 0:u.data)==null?void 0:s.errors)==null?void 0:m[0])==null?void 0:g.message)||"Failed to fetch stats"}finally{i.value=!1}}const b=k(()=>e.value?(e.value.hit_rate*100).toFixed(1):"0.0");return y(h),(u,s)=>(l(),o("div",N,[s[9]||(s[9]=t("div",{class:"mb-8"},[t("h1",{class:"text-2xl font-bold text-gray-900"},"Dashboard"),t("p",{class:"mt-1 text-sm text-gray-500"},"Overview of your Harbor Cache instance")],-1)),d.value?(l(),o("div",S,[t("p",$,a(d.value),1)])):_("",!0),i.value?(l(),o("div",z,[n(r(f),{class:"h-8 w-8 text-gray-400 animate-spin"})])):e.value?(l(),o("div",D,[t("div",L,[t("div",R,[t("div",T,[n(r(x),{class:"h-6 w-6 text-blue-600"})]),t("div",null,[s[0]||(s[0]=t("p",{class:"stat-label"},"Total Size",-1)),t("p",A,a(e.value.total_size_human),1)])])]),t("div",E,[t("div",F,[t("div",P,[n(r(H),{class:"h-6 w-6 text-green-600"})]),t("div",null,[s[1]||(s[1]=t("p",{class:"stat-label"},"Total Entries",-1)),t("p",O,a(e.value.entry_count),1)])])]),t("div",Z,[t("div",q,[t("div",G,[n(r(V),{class:"h-6 w-6 text-purple-600"})]),t("div",null,[s[2]||(s[2]=t("p",{class:"stat-label"},"Manifests",-1)),t("p",I,a(e.value.manifest_count),1)])])]),t("div",J,[t("div",K,[t("div",Q,[n(r(x),{class:"h-6 w-6 text-orange-600"})]),t("div",null,[s[3]||(s[3]=t("p",{class:"stat-label"},"Blobs",-1)),t("p",U,a(e.value.blob_count),1)])])])])):_("",!0),e.value?(l(),o("div",W,[s[7]||(s[7]=t("h2",{class:"text-lg font-semibold text-gray-900 mb-4"},"Cache Performance",-1)),t("div",X,[t("div",Y,[t("div",tt,[t("div",st,[n(r(M),{class:"h-8 w-8 text-green-600"})]),t("p",et,a(b.value)+"%",1),s[4]||(s[4]=t("p",{class:"text-sm text-gray-500"},"Hit Rate",-1))]),t("div",at,[t("p",ot,a(e.value.hit_count),1),s[5]||(s[5]=t("p",{class:"text-sm text-gray-500"},"Cache Hits",-1))]),t("div",lt,[t("p",nt,a(e.value.miss_count),1),s[6]||(s[6]=t("p",{class:"text-sm text-gray-500"},"Cache Misses",-1))])])])])):_("",!0),t("div",rt,[t("button",{onClick:h,disabled:i.value,class:"btn btn-secondary flex items-center gap-2"},[n(r(f),{class:B(["h-4 w-4",{"animate-spin":i.value}])},null,8,["class"]),s[8]||(s[8]=C(" Refresh ",-1))],8,it)])]))}});export{ut as default};
